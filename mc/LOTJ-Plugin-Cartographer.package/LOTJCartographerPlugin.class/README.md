I'm a cartographer plugin. 
I receive information about rooms and create the conections between them.

I use MSDP variables ROOMVNUM, ROOMNAME, ROOMEXITS and I also process the input to detect the movement direction (n, s, e, w, nw, ne, sw, se, u, d).